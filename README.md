# AIgo - 智能动漫生成系统

基于 React + Node.js 开发的智能动漫生成平台，将小说文本转换为精美动漫作品，支持多集管理、付费观看、作品分享等社交功能。

## 项目结构

```
AIgo/
├── front/              # 前端项目 (React + Vite)
│   ├── src/
│   │   ├── components/    # 公共组件
│   │   ├── pages/         # 页面组件
│   │   ├── services/      # API 服务层
│   │   └── ...
│   ├── package.json
│   └── README.md
├── docs/              # 文档目录
│   └── BACKEND_API.md    # 后端 API 文档
└── README.md          # 项目总览
```

## 功能特性

### 🎨 核心功能

- **作品管理**: 创建、编辑、删除作品，支持标题和简介
- **集数管理**: 每个作品可创建多集，支持草稿和发布状态
- **付费系统**: 设置金币价格，购买付费内容（100金币 = 1元）
- **作品广场**: 浏览所有公开作品，支持点赞和排序
- **漫画浏览器**: 场景浏览，图文展示，支付购买流程
- **用户中心**: 查看历史作品和集数管理

### 💡 技术亮点

- **前后端分离**: 清晰的架构，易于扩展和维护
- **Mock API**: 前端可独立开发，支持一键切换真实 API
- **响应式设计**: 完美支持桌面和移动设备
- **模块化组件**: 可复用的组件架构

## 快速开始

### 前端开发

```bash
cd front
npm install
npm run dev
```

访问 http://localhost:5173

### 后端开发

查看 `docs/BACKEND_API.md` 了解完整的 API 规范。

## 架构设计

### 系统架构

AIgo 采用前后端分离的三层架构设计：

```
┌─────────────────────────────────────────────────────────┐
│                      用户层                              │
│              (浏览器 / 移动设备)                         │
└────────────────────┬────────────────────────────────────┘
                     │ HTTP/HTTPS
┌────────────────────▼────────────────────────────────────┐
│                   前端层 (React)                         │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐ │
│  │  UI 组件库   │  │  路由管理    │  │  状态管理    │ │
│  └──────────────┘  └──────────────┘  └──────────────┘ │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐ │
│  │  API 服务层  │  │  认证上下文  │  │  业务逻辑    │ │
│  └──────────────┘  └──────────────┘  └──────────────┘ │
└────────────────────┬────────────────────────────────────┘
                     │ RESTful API
┌────────────────────▼────────────────────────────────────┐
│              后端层 (Spring Boot)                        │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐ │
│  │  控制器层    │  │  服务层      │  │  数据访问层  │ │
│  └──────────────┘  └──────────────┘  └──────────────┘ │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐ │
│  │  安全认证    │  │  AI 集成     │  │  文件存储    │ │
│  └──────────────┘  └──────────────┘  └──────────────┘ │
└────────────────────┬────────────────────────────────────┘
                     │
┌────────────────────▼────────────────────────────────────┐
│                   数据与服务层                           │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐ │
│  │  MySQL 数据库│  │  七牛云存储  │  │  AI 服务     │ │
│  └──────────────┘  └──────────────┘  └──────────────┘ │
└─────────────────────────────────────────────────────────┘
```

### 核心模块

#### 1. 前端模块 (React + Vite)

**功能模块**：
- **用户认证模块**：登录、注册、会话管理
- **作品管理模块**：创建、编辑、删除作品
- **集数编辑模块**：文本输入、场景生成、多媒体管理
- **作品广场模块**：浏览、点赞、搜索
- **漫画浏览器模块**：场景浏览、付费购买
- **用户中心模块**：历史作品、金币管理

**技术规格**：
- React 18 - UI 框架
- React Router v7 - 路由管理
- Vite 4 - 构建工具
- 纯 CSS - 样式实现
- Context API - 状态管理

#### 2. 后端模块 (Spring Boot)

**功能模块**：
- **认证授权模块**：JWT 认证、Spring Security
- **用户管理模块**：用户 CRUD、金币系统
- **作品管理模块**：作品 CRUD、发布管理
- **集数管理模块**：集数 CRUD、发布流程
- **购买系统模块**：金币交易、购买记录
- **社交功能模块**：点赞、浏览统计
- **AI 集成模块**：LangChain4j、DeepSeek-R1、文生图、TTS

**技术规格**：
- Spring Boot 3.2.0 - 核心框架
- Spring Security - 安全认证
- Spring Data JPA - 数据访问
- MySQL - 关系数据库
- JWT - 令牌认证
- LangChain4j 0.35.0 - AI 集成
- 七牛云 SDK - 对象存储

#### 3. AI 服务模块

**DeepSeek-R1 小说解析**：
- 角色提取与分析
- 场景分镜生成
- 情绪与氛围识别

**文生图服务 (Gemini 2.5 Flash)**：
- 场景可视化生成
- 角色一致性保证
- 图片存储与 CDN 加速

**TTS 语音合成**：
- 角色对话语音生成
- 性别智能识别
- 音色一致性保证

#### 4. 存储模块

**数据库 (MySQL)**：
- 用户数据
- 作品与集数
- 购买与点赞记录

**对象存储 (七牛云)**：
- 生成的场景图片
- 语音文件
- 用户上传的封面

### 数据流架构

```
用户输入小说文本
       ↓
   前端提交
       ↓
后端 API 接收
       ↓
  DeepSeek-R1 解析
  ├─ 提取角色信息
  ├─ 生成场景分镜
  └─ 分析情绪氛围
       ↓
   并发处理
   ├─────────┬─────────┐
   ↓         ↓         ↓
文生图    语音合成   数据存储
   ↓         ↓         ↓
七牛云    七牛云    MySQL
   ↓         ↓         ↓
   └─────────┴─────────┘
           ↓
      返回前端展示
```

## 技术栈

### 前端
- React 18 - UI 框架
- React Router v7 - 路由管理
- Vite 4 - 构建工具
- 纯 CSS - 样式实现

### 后端
- Spring Boot 3.2.0 - Web 框架
- Spring Security - 安全认证
- MySQL - 数据库
- JWT - 身份认证
- LangChain4j - AI 集成框架

## 文档

- [前端 README](./front/README.md) - 前端项目说明
- [后端 API 文档](./docs/BACKEND_API.md) - 完整的后端 API 规范

## 开发路线图

### ✅ 已完成
- [x] 前端页面系统
- [x] Mock API 层
- [x] 作品和集数管理
- [x] 付费和购买流程
- [x] 作品广场和点赞

### 🚧 进行中
- [ ] 后端 API 实现
- [ ] 用户认证系统
- [ ] 数据库设计

### 📋 计划中
- [ ] 支付系统集成
- [ ] AI 图像生成集成
- [ ] TTS 语音合成
- [ ] 视频导出功能

## 团队分工

### 项目成员

- **童捷**
  - 职责：前后端业务逻辑设计
  - 负责模块：用户认证、作品管理、集数管理、购买系统、社交功能等核心业务逻辑的设计与实现

- **刘景博**
  - 职责：大模型调研与接入
  - 负责模块：DeepSeek-R1 小说解析、Gemini 2.5 Flash 文生图、TTS 语音合成等 AI 服务的调研、测试与集成

- **霍锴**
  - 职责：接口设计与整体质量把控
  - 负责模块：RESTful API 设计规范、前后端接口协议、代码审查、测试覆盖率管理、性能优化

## 贡献指南

欢迎提交 Issue 和 Pull Request！

## 许可证

MIT
